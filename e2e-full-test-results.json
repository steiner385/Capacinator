
> capacinator@1.0.0 test:e2e
> playwright test --reporter=json

üöÄ Starting E2E global setup...
üóÑÔ∏è E2E database will be initialized by server...
‚ÑπÔ∏è Development server already running on ports 3110/3120
   E2E tests will use the existing server and database.
   For isolated testing, stop the dev server first.
‚è≥ Waiting for application to be ready...
‚è≥ Attempt 1/30 failed, retrying in 1s...
‚è≥ Attempt 2/30 failed, retrying in 1s...
‚è≥ Attempt 3/30 failed, retrying in 1s...
‚è≥ Attempt 4/30 failed, retrying in 1s...
‚è≥ Attempt 5/30 failed, retrying in 1s...
‚è≥ Attempt 6/30 failed, retrying in 1s...
‚è≥ Attempt 7/30 failed, retrying in 1s...
‚è≥ Attempt 8/30 failed, retrying in 1s...
‚è≥ Attempt 9/30 failed, retrying in 1s...
‚è≥ Attempt 10/30 failed, retrying in 1s...
‚è≥ Attempt 11/30 failed, retrying in 1s...
‚è≥ Attempt 12/30 failed, retrying in 1s...
‚è≥ Attempt 13/30 failed, retrying in 1s...
‚è≥ Attempt 14/30 failed, retrying in 1s...
‚è≥ Attempt 15/30 failed, retrying in 1s...
‚è≥ Attempt 16/30 failed, retrying in 1s...
‚è≥ Attempt 17/30 failed, retrying in 1s...
‚è≥ Attempt 18/30 failed, retrying in 1s...
‚è≥ Attempt 19/30 failed, retrying in 1s...
‚è≥ Attempt 20/30 failed, retrying in 1s...
‚è≥ Attempt 21/30 failed, retrying in 1s...
‚è≥ Attempt 22/30 failed, retrying in 1s...
‚è≥ Attempt 23/30 failed, retrying in 1s...
‚è≥ Attempt 24/30 failed, retrying in 1s...
‚è≥ Attempt 25/30 failed, retrying in 1s...
‚è≥ Attempt 26/30 failed, retrying in 1s...
‚è≥ Attempt 27/30 failed, retrying in 1s...
‚è≥ Attempt 28/30 failed, retrying in 1s...
‚è≥ Attempt 29/30 failed, retrying in 1s...
üßπ Starting E2E global teardown...
üóëÔ∏è Cleaning up test data for run: e2e-1758568432530
üóÑÔ∏è E2E database will be cleaned up with server...
‚úÖ E2E global teardown completed successfully
{
  "config": {
    "configFile": "/home/tony/GitHub/Capacinator/playwright.config.ts",
    "rootDir": "/home/tony/GitHub/Capacinator/tests/e2e",
    "forbidOnly": false,
    "fullyParallel": false,
    "globalSetup": "/home/tony/GitHub/Capacinator/tests/e2e/helpers/e2e-global-setup.ts",
    "globalTeardown": "/home/tony/GitHub/Capacinator/tests/e2e/helpers/global-teardown.ts",
    "globalTimeout": 0,
    "grep": {},
    "grepInvert": null,
    "maxFailures": 0,
    "metadata": {},
    "preserveOutput": "always",
    "reporter": [
      [
        "json"
      ]
    ],
    "reportSlowTests": {
      "max": 5,
      "threshold": 300000
    },
    "quiet": false,
    "projects": [
      {
        "outputDir": "/home/tony/GitHub/Capacinator/test-results",
        "repeatEach": 1,
        "retries": 1,
        "metadata": {},
        "id": "smoke",
        "name": "smoke",
        "testDir": "/home/tony/GitHub/Capacinator/tests/e2e",
        "testIgnore": [
          "**/archived/**/*.spec.ts"
        ],
        "testMatch": [
          "/.*smoke.*\\.spec\\.ts$/"
        ],
        "timeout": 60000
      },
      {
        "outputDir": "/home/tony/GitHub/Capacinator/test-results",
        "repeatEach": 1,
        "retries": 1,
        "metadata": {},
        "id": "chromium",
        "name": "chromium",
        "testDir": "/home/tony/GitHub/Capacinator/tests/e2e",
        "testIgnore": [
          "/.*smoke.*\\.spec\\.ts$/",
          "/.*slow.*\\.spec\\.ts$/"
        ],
        "testMatch": [
          "**/*.@(spec|test).?(c|m)[jt]s?(x)"
        ],
        "timeout": 60000
      },
      {
        "outputDir": "/home/tony/GitHub/Capacinator/test-results",
        "repeatEach": 1,
        "retries": 1,
        "metadata": {},
        "id": "firefox",
        "name": "firefox",
        "testDir": "/home/tony/GitHub/Capacinator/tests/e2e",
        "testIgnore": [
          "**/archived/**/*.spec.ts"
        ],
        "testMatch": [
          "/.*@cross-browser.*\\.spec\\.ts$/"
        ],
        "timeout": 60000
      },
      {
        "outputDir": "/home/tony/GitHub/Capacinator/test-results",
        "repeatEach": 1,
        "retries": 1,
        "metadata": {},
        "id": "mobile",
        "name": "mobile",
        "testDir": "/home/tony/GitHub/Capacinator/tests/e2e",
        "testIgnore": [
          "**/archived/**/*.spec.ts"
        ],
        "testMatch": [
          "/.*mobile.*\\.spec\\.ts$/"
        ],
        "timeout": 60000
      },
      {
        "outputDir": "/home/tony/GitHub/Capacinator/test-results",
        "repeatEach": 1,
        "retries": 1,
        "metadata": {},
        "id": "api",
        "name": "api",
        "testDir": "/home/tony/GitHub/Capacinator/tests/e2e",
        "testIgnore": [
          "**/archived/**/*.spec.ts"
        ],
        "testMatch": [
          "/.*api.*\\.spec\\.ts$/"
        ],
        "timeout": 60000
      },
      {
        "outputDir": "/home/tony/GitHub/Capacinator/test-results",
        "repeatEach": 1,
        "retries": 1,
        "metadata": {},
        "id": "scenarios",
        "name": "scenarios",
        "testDir": "/home/tony/GitHub/Capacinator/tests/e2e",
        "testIgnore": [
          "**/archived/**/*.spec.ts"
        ],
        "testMatch": [
          "/.*scenario.*\\.spec\\.ts$/"
        ],
        "timeout": 120000
      }
    ],
    "shard": null,
    "updateSnapshots": "missing",
    "updateSourceMethod": "patch",
    "version": "1.55.0",
    "workers": 4,
    "webServer": null
  },
  "suites": [],
  "errors": [
    {
      "message": "Error: Application failed to start after 30 attempts: Error: page.goto: net::ERR_CONNECTION_REFUSED at http://localhost:3120/\nCall log:\n\u001b[2m  - navigating to \"http://localhost:3120/\", waiting until \"domcontentloaded\"\u001b[22m\n",
      "stack": "Error: Application failed to start after 30 attempts: Error: page.goto: net::ERR_CONNECTION_REFUSED at http://localhost:3120/\nCall log:\n\u001b[2m  - navigating to \"http://localhost:3120/\", waiting until \"domcontentloaded\"\u001b[22m\n\n    at waitForApplication (/home/tony/GitHub/Capacinator/tests/e2e/helpers/e2e-global-setup.ts:269:15)\n    at globalSetup (/home/tony/GitHub/Capacinator/tests/e2e/helpers/e2e-global-setup.ts:64:5)",
      "location": {
        "file": "/home/tony/GitHub/Capacinator/tests/e2e/helpers/e2e-global-setup.ts",
        "column": 15,
        "line": 269
      },
      "snippet": "\u001b[90m   at \u001b[39mhelpers/e2e-global-setup.ts:269\n\n  267 |       attempts++;\n  268 |       if (attempts >= maxAttempts) {\n> 269 |         throw new Error(`Application failed to start after ${maxAttempts} attempts: ${error}`);\n      |               ^\n  270 |       }\n  271 |       console.log(`‚è≥ Attempt ${attempts}/${maxAttempts} failed, retrying in 1s...`);\n  272 |       await page.waitForTimeout(1000);"
    }
  ],
  "stats": {
    "startTime": "2025-09-22T19:13:52.524Z",
    "duration": 29404.17,
    "expected": 0,
    "skipped": 0,
    "unexpected": 0,
    "flaky": 0
  }
}
