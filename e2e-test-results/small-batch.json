
> capacinator@1.0.0 test:e2e
> playwright test tests/e2e/00-e2e-environment-test.spec.ts tests/e2e/00-server-health.spec.ts --reporter=json

ğŸš€ Starting E2E global setup...
ğŸ—„ï¸ E2E database will be initialized by server...
ğŸš€ Starting E2E server...
ğŸš€ Starting server...
âœ… Server started successfully
ğŸš€ Starting client...
âœ… Client started successfully
â³ Waiting for server at http://localhost:3120...
âœ… Server is ready
â³ Waiting for application to be ready...
âœ… Application is ready
ğŸ” Verifying test data...
âœ… API health check passed
âœ… /api/roles: 4 items
ğŸ” Handling initial profile selection...
ğŸ“‹ Profile selection modal detected
ğŸ¯ Starting profile selection...

ğŸ“ Attempt 1/3 to select profile...
Select trigger text: "Select your name..."
ğŸ“‚ Opening profile dropdown...
ğŸ” Trying strategy: Standard role="option"
âœ… Standard role="option": Found 4 options
DOM state: 0 portals, 1 popper wrappers
Available profiles: [
  'E2E Over Utilized (E2E Developer)',
  'E2E Normal Utilized (E2E Designer)',
  'E2E Under Utilized (E2E Manager)',
  'E2E Zero Utilized (E2E QA Engineer)'
]
Selecting profile: "E2E Over Utilized (E2E Developer)"
Select value after click: "Select your name..."
ğŸ”„ Retrying...

ğŸ“ Attempt 2/3 to select profile...
Select trigger text: "Select your name..."
ğŸ“‚ Opening profile dropdown...
ğŸ” Trying strategy: Standard role="option"
âœ… Standard role="option": Found 4 options
DOM state: 0 portals, 1 popper wrappers
Available profiles: [
  'E2E Over Utilized (E2E Developer)',
  'E2E Normal Utilized (E2E Designer)',
  'E2E Under Utilized (E2E Manager)',
  'E2E Zero Utilized (E2E QA Engineer)'
]
Selecting profile: "E2E Over Utilized (E2E Developer)"
Select value after click: "Select your name..."
ğŸ”„ Retrying...

ğŸ“ Attempt 3/3 to select profile...
Select trigger text: "Select your name..."
ğŸ“‚ Opening profile dropdown...
ğŸ” Trying strategy: Standard role="option"
âœ… Standard role="option": Found 4 options
DOM state: 0 portals, 0 popper wrappers
Available profiles: []
Selecting profile: "undefined"
ğŸ”Œ All UI attempts failed, trying API fallback...
ğŸ”Œ Using API fallback for profile selection...
API fallback: Selecting E2E Over Utilized
âœ… Profile selected via API fallback
âœ… Profile selected and saved
ğŸ’¾ Current auth data: { hasCurrentUser: true, hasSelectedProfile: true }
ğŸ’¾ Authentication state saved to /home/tony/GitHub/Capacinator/test-results/e2e-auth.json
âœ… Saved state verification: Contains localStorage data
âœ… E2E global setup completed successfully
